import{$ as m,v as $,z as N,r as u,j as e,G as s,Q as b,U as _,w as p,T as x,W as G,Z as v,X as H,F as U,Y as V,V as O,E as Q}from"./index-DYxzuSmc.js";import{u as A,F as Z,c as X,a as g,I as Y,d as J,b as K,C as ee,A as te,e as se,L as re,f as ne}from"./AuthFooter-Cvs4RegE.js";import{T as I}from"./TextField-BfXva62j.js";import{I as k,O as F,F as y}from"./OutlinedInput-DFqm76kI.js";import"./Link-CyicBt7g.js";const ae=t=>new RegExp(/[0-9]/).test(t),ie=t=>new RegExp(/[a-z]/).test(t)&&new RegExp(/[A-Z]/).test(t),oe=t=>new RegExp(/[!#@$%^&*)(+=._-]/).test(t),le=t=>t<2?{label:"Poor",color:m.errorMain}:t<3?{label:"Weak",color:m.warningDark}:t<4?{label:"Normal",color:m.orangeMain}:t<5?{label:"Good",color:m.successMain}:t<6?{label:"Strong",color:m.successDark}:{label:"Poor",color:m.errorMain},ce=t=>{let n=0;return t.length>5&&(n+=1),t.length>7&&(n+=1),ae(t)&&(n+=1),oe(t)&&(n+=1),ie(t)&&(n+=1),n},de=({...t})=>{const n=$(),E=A(n.breakpoints.down("md"));N(r=>r.customization);const[j,M]=u.useState(!1),[P,B]=u.useState(!0),[R,W]=u.useState(0),[o,D]=u.useState(),[S,T]=u.useState(""),q=()=>{M(!j)},L=r=>{r.preventDefault()},C=r=>{const i=ce(r);W(i),D(le(i))};u.useEffect(()=>{C("123456")},[]);const z=async(r,{setSubmitting:i,setErrors:l,resetForm:f})=>{const{email:w,password:a,fname:c,lname:d}=r;try{const{error:h}=await V.auth.signUp({email:w,password:a,options:{data:{full_name:`${c} ${d}`}}});if(h)throw h;T("Registration successful! Please check your email for verification."),f()}catch(h){l({submit:h.message})}finally{i(!1)}};return e.jsxs(e.Fragment,{children:[S&&e.jsx("div",{className:"flex bg-green-300 border border-green-400 text-sm text-green-500",children:S}),e.jsx(Z,{initialValues:{fname:"",lname:"",email:"",password:"",submit:null},validationSchema:X().shape({fname:g().required("First name is required"),lname:g().required("Last name is required"),email:g().email("Must be a valid email").max(255).required("Email is required"),password:g().max(255).required("Password is required")}),onSubmit:z,children:({errors:r,handleBlur:i,handleChange:l,handleSubmit:f,isSubmitting:w,touched:a,values:c})=>e.jsxs("form",{noValidate:!0,onSubmit:f,...t,children:[e.jsxs(s,{container:!0,spacing:E?0:2,children:[e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(I,{fullWidth:!0,label:"First Name",margin:"normal",name:"fname",type:"text",value:c.fname,onBlur:i,onChange:l,error:!!(a.fname&&r.fname),helperText:a.fname&&r.fname,sx:{...n.typography.customInput}})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(I,{fullWidth:!0,label:"Last Name",margin:"normal",name:"lname",type:"text",value:c.lname,onBlur:i,onChange:l,error:!!(a.lname&&r.lname),helperText:a.lname&&r.lname,sx:{...n.typography.customInput}})})]}),e.jsxs(b,{fullWidth:!0,error:!!(a.email&&r.email),sx:{...n.typography.customInput},children:[e.jsx(k,{htmlFor:"outlined-adornment-email-register",children:"Email Address / Username"}),e.jsx(F,{id:"outlined-adornment-email-register",type:"email",value:c.email,name:"email",onBlur:i,onChange:l}),a.email&&r.email&&e.jsx(y,{error:!0,id:"standard-weight-helper-text--register",children:r.email})]}),e.jsxs(b,{fullWidth:!0,error:!!(a.password&&r.password),sx:{...n.typography.customInput},children:[e.jsx(k,{htmlFor:"outlined-adornment-password-register",children:"Password"}),e.jsx(F,{id:"outlined-adornment-password-register",type:j?"text":"password",value:c.password,name:"password",label:"Password",onBlur:i,onChange:d=>{l(d),C(d.target.value)},endAdornment:e.jsx(Y,{position:"end",children:e.jsx(_,{"aria-label":"toggle password visibility",onClick:q,onMouseDown:L,edge:"end",size:"large",children:j?e.jsx(J,{}):e.jsx(K,{})})})}),a.password&&r.password&&e.jsx(y,{error:!0,id:"standard-weight-helper-text-password-register",children:r.password})]}),R!==0&&e.jsx(b,{fullWidth:!0,children:e.jsx(p,{sx:{mb:2},children:e.jsxs(s,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(s,{item:!0,children:e.jsx(p,{style:{backgroundColor:o==null?void 0:o.color},sx:{width:85,height:8,borderRadius:"7px"}})}),e.jsx(s,{item:!0,children:e.jsx(x,{variant:"subtitle1",fontSize:"0.75rem",children:o==null?void 0:o.label})})]})})}),e.jsx(s,{container:!0,alignItems:"center",justifyContent:"space-between",children:e.jsx(s,{item:!0,children:e.jsx(G,{control:e.jsx(ee,{checked:P,onChange:d=>B(d.target.checked),name:"checked",color:"primary"}),label:e.jsxs(x,{variant:"subtitle1",children:["Agree with Â ",e.jsx(x,{variant:"subtitle1",component:v,to:"#",children:"Terms & Conditions"})]})})})}),r.submit&&e.jsx(p,{sx:{mt:3},children:e.jsx(y,{error:!0,children:r.submit})}),e.jsx(p,{sx:{mt:2},children:e.jsx(H,{children:e.jsx(U,{disableElevation:!0,disabled:w,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Sign up"})})})]})})]})},ge=()=>{const t=A(n=>n.breakpoints.down("md"));return e.jsx(te,{children:e.jsxs(s,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:[e.jsx(s,{item:!0,xs:12,children:e.jsx(s,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:e.jsx(s,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:e.jsx(se,{children:e.jsxs(s,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[e.jsx(s,{item:!0,sx:{mb:3},children:e.jsx(v,{to:"#","aria-label":"theme logo",children:e.jsx(re,{})})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(s,{container:!0,direction:{xs:"column-reverse",md:"row"},alignItems:"center",justifyContent:"center",children:e.jsx(s,{item:!0,children:e.jsxs(O,{alignItems:"center",justifyContent:"center",spacing:1,children:[e.jsx(x,{color:"secondary.main",gutterBottom:!0,variant:t?"h3":"h2",children:"Sign up"}),e.jsx(x,{variant:"caption",fontSize:"16px",textAlign:{xs:"center",md:"inherit"},children:"Enter your credentials to continue"})]})})})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(de,{})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(Q,{})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(s,{item:!0,container:!0,direction:"column",alignItems:"center",xs:12,children:e.jsx(x,{component:v,to:"/pages/login/login3",variant:"subtitle1",sx:{textDecoration:"none"},children:"Already have an account?"})})})]})})})})}),e.jsx(s,{item:!0,xs:12,sx:{m:3,mt:1},children:e.jsx(ne,{})})]})})};export{ge as default};
